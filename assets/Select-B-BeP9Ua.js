import{d as u,A,T as S,y as C,u as r}from"./hooks.module-Cd3FjhFL.js";const V=({label:i,placeholder:_="Select an option",options:n,value:d,defaultValue:g,onChange:m,disabled:f=!1,name:v,id:I})=>{const p=d!==void 0,[l,a]=u(!1),[w,D]=u(g??""),[h,b]=u(0),o=A(null),s=p?d:w,y=S(()=>n.find(t=>t.value===s)?.label??"",[n,s]);C(()=>{if(!l)return;const e=t=>{o.current&&(o.current.contains(t.target)||a(!1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[l]);const x=e=>{p||D(e),m?.(e),a(!1)},k=e=>{if(!n.length)return;let t=h;for(let c=0;c<n.length&&(t=(t+e+n.length)%n.length,!!n[t].disabled);c++);b(t)};return r("div",{ref:o,class:"select","data-open":l?"true":"false",children:[i?r("label",{class:"select__label",children:i}):null,r("button",{type:"button",class:"select__trigger",disabled:f,"aria-haspopup":"listbox","aria-expanded":l?"true":"false",onClick:()=>a(e=>!e),onKeyDown:e=>{f||((e.key==="Enter"||e.key===" ")&&(e.preventDefault(),a(t=>!t)),e.key==="ArrowDown"&&(e.preventDefault(),l||a(!0),k(1)),e.key==="ArrowUp"&&(e.preventDefault(),l||a(!0),k(-1)),e.key==="Escape"&&a(!1))},children:[r("span",{class:y?"":"select__value--placeholder",children:y||_}),r("span",{"aria-hidden":"true",children:l?"▲":"▼"})]}),v?r("input",{type:"hidden",name:v,value:s}):null,l?r("div",{class:"select__panel",role:"listbox","aria-label":i??"Select",children:n.map((e,t)=>{const c=e.value===s,E=t===h;return r("div",{role:"option","aria-selected":c?"true":"false",class:"select__option",style:{opacity:e.disabled?.5:1,background:E?"var(--select-option-hover-bg)":"transparent",pointerEvents:e.disabled?"none":"auto"},onMouseEnter:()=>b(t),onClick:()=>x(e.value),children:e.label},e.value)})}):null]})};export{V as S};
